(function(a){a.toJSON=function(c){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(c);var f=typeof c;if(c===null)return"null";if(f!="undefined"){if(f=="number"||f=="boolean")return c+"";if(f=="string")return a.quoteString(c);if(f=="object"){if(typeof c.toJSON=="function")return a.toJSON(c.toJSON());if(c.constructor===Date){var i=c.getUTCMonth()+1;if(i<10)i="0"+i;var k=c.getUTCDate();if(k<10)k="0"+k;f=c.getUTCFullYear();var m=c.getUTCHours();if(m<10)m="0"+m;var n=c.getUTCMinutes();if(n<
10)n="0"+n;var p=c.getUTCSeconds();if(p<10)p="0"+p;c=c.getUTCMilliseconds();if(c<100)c="0"+c;if(c<10)c="0"+c;return'"'+f+"-"+i+"-"+k+"T"+m+":"+n+":"+p+"."+c+'Z"'}if(c.constructor===Array){i=[];for(k=0;k<c.length;k++)i.push(a.toJSON(c[k])||"null");return"["+i.join(",")+"]"}i=[];for(k in c){f=typeof k;if(f=="number")f='"'+k+'"';else if(f=="string")f=a.quoteString(k);else continue;if(typeof c[k]!="function"){m=a.toJSON(c[k]);i.push(f+":"+m)}}return"{"+i.join(", ")+"}"}}};a.evalJSON=function(c){if(typeof JSON==
"object"&&JSON.parse)return JSON.parse(c);return eval("("+c+")")};a.secureEvalJSON=function(c){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(c);var f=c;f=f.replace(/\\["\\\/bfnrtu]/g,"@");f=f.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");f=f.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(f))return eval("("+c+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};a.quoteString=function(c){if(c.match(j))return'"'+c.replace(j,
function(f){var i=b[f];if(typeof i==="string")return i;i=f.charCodeAt();return"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16)})+'"';return'"'+c+'"'};var j=/["\\\x00-\x1f\x7f-\x9f]/g,b={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);
jQuery.fn.extend({getUrlParam:function(a){a=escape(unescape(a));var j=[],b=null;if($(this).attr("nodeName")=="#document"){if(window.location.search.search(a)>-1)b=window.location.search.substr(1,window.location.search.length).split("&")}else if($(this).attr("src")!="undefined"){var c=$(this).attr("src");if(c.indexOf("?")>-1){b=c.substr(c.indexOf("?")+1);b=b.split("&")}}else if($(this).attr("href")!="undefined"){c=$(this).attr("href");if(c.indexOf("?")>-1){b=c.substr(c.indexOf("?")+1);b=b.split("&")}}else return null;
if(b==null)return null;for(c=0;c<b.length;c++)escape(unescape(b[c].split("=")[0]))==a&&j.push(b[c].split("=")[1]);return j.length==0?null:j.length==1?j[0]:j}});
(function(a){function j(b,c){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var f=RegExp("[\\?&]"+b+"=([^&#]*)").exec(c);return f==null?"":f[1]}a.prettyPhoto={version:"2.5.6"};a.fn.prettyPhoto=function(b){function c(g){d.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");d.find(".pp_fade").fadeOut(b.animationSpeed,function(){a(".pp_loaderIcon").show();g&&g()});o.fadeOut(b.animationSpeed)}function f(g){if(e==g-1){d.find("a.pp_next").css("visibility","hidden");d.find("a.pp_arrow_next").addClass("disabled").unbind("click")}else{d.find("a.pp_next").css("visibility",
"visible");d.find("a.pp_arrow_next.disabled").removeClass("disabled").bind("click",function(){a.prettyPhoto.changePage("next");return false})}if(e==0){d.find("a.pp_previous").css("visibility","hidden");d.find("a.pp_arrow_previous").addClass("disabled").unbind("click")}else{d.find("a.pp_previous").css("visibility","visible");d.find("a.pp_arrow_previous.disabled").removeClass("disabled").bind("click",function(){a.prettyPhoto.changePage("previous");return false})}g>1?a(".pp_nav").show():a(".pp_nav").hide()}
function i(g,l){hasBeenResized=false;k(g,l);imageWidth=g;imageHeight=l;if((t>q||u>s)&&r&&b.allowresize&&!z){for(notFitting=hasBeenResized=true;notFitting;){if(t>q){imageWidth=q-200;imageHeight=l/g*imageWidth}else if(u>s){imageHeight=s-200;imageWidth=g/l*imageHeight}else notFitting=false;u=imageHeight;t=imageWidth}k(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(u),containerWidth:Math.floor(t)+40,contentHeight:Math.floor(y),contentWidth:Math.floor(A),
resized:hasBeenResized}}function k(g,l){g=parseFloat(g);l=parseFloat(l);$pp_details=d.find(".pp_details");$pp_details.width(g);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().appendTo(a("body")).css({position:"absolute",top:-10000});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;if(a.browser.msie&&a.browser.version==7)detailsHeight+=8;$pp_details.remove();y=l+detailsHeight;A=g;
u=y+o.height()+d.find(".pp_top").height()+d.find(".pp_bottom").height();t=g}function m(g){return g.match(/youtube\.com\/watch/i)?"youtube":g.match(/vimeo\.com/i)?"vimeo":g.indexOf(".mov")!=-1?"quicktime":g.indexOf(".swf")!=-1?"flash":g.indexOf("iframe")!=-1?"iframe":g.substr(0,1)=="#"?"inline":"image"}function n(){if(r){titleHeight=o.height();contentHeight=d.height();contentwidth=d.width();projectedTop=s/2+v.scrollTop-(contentHeight+titleHeight)/2;d.css({top:projectedTop,left:q/2+v.scrollLeft-contentwidth/
2});o.css({top:projectedTop-titleHeight,left:q/2+v.scrollLeft-contentwidth/2+20})}}function p(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};else if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};else if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}function B(){s=a(window).height();q=a(window).width();
w.css({height:a(document).height()})}function C(){a("body").append(b.markup);d=a(".pp_pic_holder");o=a(".ppt");w=a("div.pp_overlay");d.attr("class","pp_pic_holder "+b.theme);w.css({opacity:0,height:a(document).height()}).bind("click",function(){b.modal||a.prettyPhoto.close()});a("a.pp_close").bind("click",function(){a.prettyPhoto.close();return false});a("a.pp_expand").bind("click",function(){$this=a(this);if($this.hasClass("pp_expand")){$this.removeClass("pp_expand").addClass("pp_contract");r=false}else{$this.removeClass("pp_contract").addClass("pp_expand");
r=true}c(function(){a.prettyPhoto.open(imagesnew,titles,descriptions)});d.find(".pp_fade").fadeOut(b.animationSpeed);return false});d.find(".pp_previous, .pp_arrow_previous").bind("click",function(){a.prettyPhoto.changePage("previous");return false});d.find(".pp_next, .pp_arrow_next").bind("click",function(){a.prettyPhoto.changePage("next");return false})}b=jQuery.extend({animationSpeed:"normal",opacity:0.8,showTitle:true,allowresize:true,default_width:500,default_height:344,counter_separator_label:"/",
theme:"light_rounded",hideflash:false,wmode:"opaque",autoplay:true,modal:false,changepicturecallback:function(){},callback:function(){},markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details clearfix"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div> \t\t\t\t\t<div class="ppt"></div>',
image_markup:'<img id="fullResImage" src="" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',
quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',
inline_markup:'<div class="pp_inline clearfix">{content}</div>'},b);if(a.browser.msie&&parseInt(a.browser.version)==6)b.theme="light_square";a(".pp_overlay").size()==0&&C();var r=true,z=false,h,d,o,w,y,A,u,t,s=a(window).height(),q=a(window).width(),e=0,v=p();a(window).scroll(function(){v=p();n();B()});a(window).resize(function(){n();B()});a(document).keydown(function(g){if(d.is(":visible"))switch(g.keyCode){case 37:a.prettyPhoto.changePage("previous");break;case 39:a.prettyPhoto.changePage("next");
break;case 27:b.modal||a.prettyPhoto.close();break}});a(this).each(function(){a(this).bind("click",function(){_self=this;theRel=a(this).attr("rel");galleryRegExp=/\[(?:.*)\]/;theGallery=galleryRegExp.exec(theRel);var g=[],l=[],x=[];if(theGallery)a("a[rel*="+theGallery+"]").each(function(D){if(a(this)[0]===a(_self)[0])e=D;g.push(a(this).attr("href"));l.push(a(this).find("img").attr("alt"));x.push(a(this).attr("title"))});else{g=a(this).attr("href");l=a(this).find("img").attr("alt")?a(this).find("img").attr("alt"):
"";x=a(this).attr("title")?a(this).attr("title"):""}a.prettyPhoto.open(g,l,x);return false})});a.prettyPhoto.open=function(g,l,x){a.browser.msie&&a.browser.version==6&&a("select").css("visibility","hidden");b.hideflash&&a("object,embed").css("visibility","hidden");imagesnew=a.makeArray(g);titles=a.makeArray(l);descriptions=a.makeArray(x);image_set=a(imagesnew).size()>0?true:false;f(a(imagesnew).size());a(".pp_loaderIcon").show();w.show().fadeTo(b.animationSpeed,b.opacity);d.find(".currentTextHolder").text(e+
1+b.counter_separator_label+a(imagesnew).size());descriptions[e]?d.find(".pp_description").show().html(unescape(descriptions[e])):d.find(".pp_description").hide().text("");if(titles[e]&&b.showTitle){hasTitle=true;o.html(unescape(titles[e]))}else hasTitle=false;movie_width=parseFloat(j("width",imagesnew[e]))?j("width",imagesnew[e]):b.default_width.toString();movie_height=parseFloat(j("height",imagesnew[e]))?j("height",imagesnew[e]):b.default_height.toString();if(movie_width.indexOf("%")!=-1||movie_height.indexOf("%")!=
-1){movie_height=parseFloat(a(window).height()*parseFloat(movie_height)/100-100);movie_width=parseFloat(a(window).width()*parseFloat(movie_width)/100-100);z=true}d.fadeIn(function(){imgPreloader="";switch(m(imagesnew[e])){case "image":imgPreloader=new Image;nextImage=new Image;if(image_set&&e>a(imagesnew).size())nextImage.src=imagesnew[e+1];prevImage=new Image;if(image_set&&imagesnew[e-1])prevImage.src=imagesnew[e-1];d.find("#pp_full_res")[0].innerHTML=b.image_markup;d.find("#fullResImage").attr("src",
imagesnew[e]);imgPreloader.onload=function(){h=i(imgPreloader.width,imgPreloader.height);_showContent()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");a.prettyPhoto.close()};imgPreloader.src=imagesnew[e];break;case "youtube":h=i(movie_width,movie_height);movie="http://www.youtube.com/v/"+j("v",imagesnew[e]);if(b.autoplay)movie+="&autoplay=1";toInject=b.flash_markup.replace(/{width}/g,h.width).replace(/{height}/g,h.height).replace(/{wmode}/g,
b.wmode).replace(/{path}/g,movie);break;case "vimeo":h=i(movie_width,movie_height);movie_id=imagesnew[e];movie="http://vimeo.com/moogaloop.swf?clip_id="+movie_id.replace("http://vimeo.com/","");if(b.autoplay)movie+="&autoplay=1";toInject=b.flash_markup.replace(/{width}/g,h.width).replace(/{height}/g,h.height).replace(/{wmode}/g,b.wmode).replace(/{path}/g,movie);break;case "quicktime":h=i(movie_width,movie_height);h.height+=15;h.contentHeight+=15;h.containerHeight+=15;toInject=b.quicktime_markup.replace(/{width}/g,
h.width).replace(/{height}/g,h.height).replace(/{wmode}/g,b.wmode).replace(/{path}/g,imagesnew[e]).replace(/{autoplay}/g,b.autoplay);break;case "flash":h=i(movie_width,movie_height);flash_vars=imagesnew[e];flash_vars=flash_vars.substring(imagesnew[e].indexOf("flashvars")+10,imagesnew[e].length);filename=imagesnew[e];filename=filename.substring(0,filename.indexOf("?"));toInject=b.flash_markup.replace(/{width}/g,h.width).replace(/{height}/g,h.height).replace(/{wmode}/g,b.wmode).replace(/{path}/g,filename+
"?"+flash_vars);break;case "iframe":h=i(movie_width,movie_height);frame_url=imagesnew[e];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=b.iframe_markup.replace(/{width}/g,h.width).replace(/{height}/g,h.height).replace(/{path}/g,frame_url);break;case "inline":myClone=a(imagesnew[e]).clone().css({width:b.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline clearfix"></div></div>').appendTo(a("body"));h=i(a(myClone).width(),a(myClone).height());a(myClone).remove();
toInject=b.inline_markup.replace(/{content}/g,a(imagesnew[e]).html());break}if(!imgPreloader){d.find("#pp_full_res")[0].innerHTML=toInject;_showContent()}})};a.prettyPhoto.changePage=function(g){if(g=="previous"){e--;if(e<0){e=0;return}}else{if(a(".pp_arrow_next").is(".disabled"))return;e++}r||(r=true);c(function(){a.prettyPhoto.open(imagesnew,titles,descriptions)});a("a.pp_expand,a.pp_contract").fadeOut(b.animationSpeed)};a.prettyPhoto.close=function(){d.find("object,embed").css("visibility","hidden");
a("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(b.animationSpeed);w.fadeOut(b.animationSpeed,function(){a("#pp_full_res").html("");d.attr("style","").find("div:not(.pp_hoverContainer)").attr("style","");n();a.browser.msie&&a.browser.version==6&&a("select").css("visibility","visible");b.hideflash&&a("object,embed").css("visibility","visible");e=0;b.callback()});r=true};_showContent=function(){a(".pp_loaderIcon").hide();projectedTop=v.scrollTop+(s/2-h.containerHeight/2);if(projectedTop<0)projectedTop=
0+o.height();d.find(".pp_content").animate({height:h.contentHeight},b.animationSpeed);d.animate({top:projectedTop,left:q/2-h.containerWidth/2,width:h.containerWidth},b.animationSpeed,function(){d.find(".pp_hoverContainer,#fullResImage").height(h.height).width(h.width);d.find(".pp_fade").fadeIn(b.animationSpeed);image_set&&m(imagesnew[e])=="image"?d.find(".pp_hoverContainer").show():d.find(".pp_hoverContainer").hide();if(b.showTitle&&hasTitle){o.css({top:d.offset().top-25,left:d.offset().left+20,display:"none"});
o.fadeIn(b.animationSpeed)}h.resized&&a("a.pp_expand,a.pp_contract").fadeIn(b.animationSpeed);b.changepicturecallback()})};n()}})(jQuery);
jQuery.cookie=function(a,j,b){if(typeof j!="undefined"){b=b||{};if(j===null){j="";b.expires=-1}var c="";if(b.expires&&(typeof b.expires=="number"||b.expires.toUTCString)){if(typeof b.expires=="number"){c=new Date;c.setTime(c.getTime()+b.expires*24*60*60*1E3)}else c=b.expires;c="; expires="+c.toUTCString()}var f=b.path?"; path="+b.path:"",i=b.domain?"; domain="+b.domain:"";b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(j),c,f,i,b].join("")}else{j=null;if(document.cookie&&document.cookie!=
""){b=document.cookie.split(";");for(c=0;c<b.length;c++){f=jQuery.trim(b[c]);if(f.substring(0,a.length+1)==a+"="){j=decodeURIComponent(f.substring(a.length+1));break}}}return j}};
