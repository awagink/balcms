<?
	# Prepare
	$this->url()->renege('route','front');
	$baseUrl = $this->app()->getBaseUrl();
	# Extract
	$Content = delve($this,'Content');
	$Content_code = delve($Content,'code');
	$Content_title = delve($Content,'title');
	$Content_tagline = delve($Content,'tagline');
	$Content_Avatar = delve($Content,'Avatar');
	# Url
	$Content_url = $this->url()->content($Content)->toString();
	# Crumbs
	$ContentCrumbs = delve($this,'ContentCrumbs');
?>
<article id="article">
	<div id="article-<?=$Content_code?>">
	
		<header class="article-header">
			<nav id="nav-crumbs">
				<ul>
					<li>
						<a href="<?=$baseUrl?>">
							<span class="title">Home</span>
						</a>
					</li>
					<li>
						<span class="separator">/</span>
					</li>
					<? foreach ( $ContentCrumbs as $Crumb ) :
						$Crumb_title = delve($Crumb,'title');
						$Crumb_url = $this->url()->content($Crumb)->toString();
						?>
						<li>
							<a href="<?=$Crumb_url?>">
								<span class="title"><?=$Crumb_title?></span>
							</a>
						</li>
						<li>
							<span class="separator">/</span>
						</li>
					<? endforeach; ?>
				</ul>
			</nav>
			<h1 class="article-title">
				<a href="<?=$Content_url?>" title="<?=$Content_title?>">
					<span class="title"><?=$Content_title?></span>
					<span class="description"><?=$Content_tagline?></span>
				</a>
			</h1>
		</header>
	
		<? if ( $Content_Avatar ) :
			$Media = $Content_Avatar;
			$Media_url = $this->url()->media($Media)->toString();
			?>
			<div class="article-avatar">
				<a href="<?=$Media_url?>" title="View Image">
					<img src="<?=$Media_url?>?width=200" title="<?=$Content_title?>" alt="<?=$Content_title?> Avatar" />
				</a>
			</div>
		<? endif; ?>

		<div class="article-content">
			<?=$this->content()->renderContent($Content)?>
		</div>
	
	</div>
</article>